<!doctype html>
<html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><meta><title>ã€Œ Kata Containers ã€æ¶æ„æ¼”è¿› - ğŸ¾Corgi</title><link rel="manifest" href="/manifest.json"><meta name="application-name" content="ğŸ¾Corgi"><meta name="msapplication-TileImage" content="/img/favicon.svg"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-title" content="ğŸ¾Corgi"><meta name="apple-mobile-web-app-status-bar-style" content="default"><meta name="description" content="Kata Containers 3.x è¾ƒ 2.x ç‰ˆæœ¬æ¶æ„å‘å±•æ¼”è¿›ä¸è®¾è®¡åˆè¡·"><meta property="og:type" content="blog"><meta property="og:title" content="ã€Œ Kata Containers ã€æ¶æ„æ¼”è¿›"><meta property="og:url" content="http://shenxianghong.github.io/2022/11/14/2022-11-14%20Kata%20Containers%20%E6%9E%B6%E6%9E%84%E6%BC%94%E8%BF%9B/"><meta property="og:site_name" content="ğŸ¾Corgi"><meta property="og:description" content="Kata Containers 3.x è¾ƒ 2.x ç‰ˆæœ¬æ¶æ„å‘å±•æ¼”è¿›ä¸è®¾è®¡åˆè¡·"><meta property="og:locale" content="en_US"><meta property="og:image" content="https://picsum.photos/0?sig=20221114"><meta property="article:published_time" content="2022-11-13T16:00:00.000Z"><meta property="article:modified_time" content="2023-06-19T01:18:07.267Z"><meta property="article:author" content="Shen Xianghong"><meta property="article:tag" content="Kata Containers"><meta property="twitter:card" content="summary"><meta property="twitter:image:src" content="https://picsum.photos/0?sig=20221114"><script type="application/ld+json">{"@context":"https://schema.org","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"http://shenxianghong.github.io/2022/11/14/2022-11-14%20Kata%20Containers%20%E6%9E%B6%E6%9E%84%E6%BC%94%E8%BF%9B/"},"headline":"ã€Œ Kata Containers ã€æ¶æ„æ¼”è¿›","image":[],"datePublished":"2022-11-13T16:00:00.000Z","dateModified":"2023-06-19T01:18:07.267Z","author":{"@type":"Person","name":"Shen Xianghong"},"publisher":{"@type":"Organization","name":"ğŸ¾Corgi","logo":{"@type":"ImageObject","url":"http://shenxianghong.github.io/img/logo.svg"}},"description":"Kata Containers 3.x è¾ƒ 2.x ç‰ˆæœ¬æ¶æ„å‘å±•æ¼”è¿›ä¸è®¾è®¡åˆè¡·"}</script><link rel="canonical" href="http://shenxianghong.github.io/2022/11/14/2022-11-14%20Kata%20Containers%20%E6%9E%B6%E6%9E%84%E6%BC%94%E8%BF%9B/"><link rel="alternate" href="/atom.xml" title="ğŸ¾Corgi" type="application/atom+xml"><link rel="icon" href="/img/favicon.svg"><link rel="stylesheet" href="https://use.fontawesome.com/releases/v6.0.0/css/all.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@9.12.0/styles/xcode.css"><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Ubuntu:wght@400;600&amp;family=Source+Code+Pro"><link rel="stylesheet" href="/css/default.css"><style>body>.footer,body>.navbar,body>.section{opacity:0}</style><!--!--><!--!--><!--!--><script src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js" defer></script><!--!--><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/cookieconsent@3.1.1/build/cookieconsent.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/lightgallery@1.10.0/dist/css/lightgallery.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/justifiedGallery@3.8.1/dist/css/justifiedGallery.min.css"><!--!--><!--!--><style>.pace{-webkit-pointer-events:none;pointer-events:none;-webkit-user-select:none;-moz-user-select:none;user-select:none}.pace-inactive{display:none}.pace .pace-progress{background:#3273dc;position:fixed;z-index:2000;top:0;right:100%;width:100%;height:2px}</style><script src="https://cdn.jsdelivr.net/npm/pace-js@1.2.4/pace.min.js"></script><!--!--><!--!--><!-- hexo injector head_end start --><script>
  (function () {
      function switchTab() {
          if (!location.hash) {
            return;
          }

          const id = '#' + CSS.escape(location.hash.substring(1));
          const $tabMenu = document.querySelector(`.tabs a[href="${id}"]`);
          if (!$tabMenu) {
            return;
          }

          const $tabMenuContainer = $tabMenu.parentElement.parentElement;
          Array.from($tabMenuContainer.children).forEach($menu => $menu.classList.remove('is-active'));
          Array.from($tabMenuContainer.querySelectorAll('a'))
              .map($menu => document.getElementById($menu.getAttribute("href").substring(1)))
              .forEach($content => $content.classList.add('is-hidden'));

          if ($tabMenu) {
              $tabMenu.parentElement.classList.add('is-active');
          }
          const $activeTab = document.querySelector(id);
          if ($activeTab) {
              $activeTab.classList.remove('is-hidden');
          }
      }
      switchTab();
      window.addEventListener('hashchange', switchTab, false);
  })();
  </script><!-- hexo injector head_end end --><meta name="generator" content="Hexo 6.3.0"></head><body class="is-3-column"><nav class="navbar navbar-main"><div class="container navbar-container"><div class="navbar-brand justify-content-center"><a class="navbar-item navbar-logo" href="/"><img src="/img/logo.svg" alt="ğŸ¾Corgi" height="28"></a></div><div class="navbar-menu"><div class="navbar-start"><a class="navbar-item" href="/">Home</a><a class="navbar-item" href="/archives">Archives</a><a class="navbar-item" href="/categories">Categories</a><a class="navbar-item" href="/tags">Tags</a></div><div class="navbar-end"><a class="navbar-item night" id="night-nav" title="Night Mode" href="javascript:;"><i class="fas fa-moon" id="night-icon"></i></a><a class="navbar-item is-hidden-tablet catalogue" title="Catalogue" href="javascript:;"><i class="fas fa-list-ul"></i></a><a class="navbar-item search" title="Search" href="javascript:;"><i class="fas fa-search"></i></a></div></div></div></nav><section class="section"><div class="container"><div class="columns"><div class="column order-2 column-main is-8-tablet is-8-desktop is-9-widescreen"><div class="card"><div class="card-image"><span class="image is-7by3"><img class="fill" src="https://picsum.photos/0?sig=20221114" alt="ã€Œ Kata Containers ã€æ¶æ„æ¼”è¿›"></span></div><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><i class="fa fa-calendar"></i>Â <time dateTime="${date_xml(page.date)}" title="${date_xml(page.date)}">2022-11-14</time></span><span class="level-item"><i class="fa fa-calendar-check"></i>Â <time dateTime="${date_xml(page.updated)}" title="${date_xml(page.updated)}">2023-06-19</time></span><span class="level-item"><i class="far fa-folder-open"></i>Â <a class="link-muted" href="/categories/Container-Runtime/">Container Runtime</a></span><span class="level-item"><i class="far fa-clock"></i>Â 16 minutes read (About 2394 words)</span></div></div><h1 class="title is-3 is-size-4-mobile">ã€Œ Kata Containers ã€æ¶æ„æ¼”è¿›</h1><div class="content"><div align=center><img width="200" style="border: 0px" src="/gallery/kata-containers/logo.svg"></div>

<hr>
<blockquote>
<p>based on <strong>3.0.0</strong></p>
</blockquote>
<h1 id="æ¦‚è§ˆ"><a href="#æ¦‚è§ˆ" class="headerlink" title="æ¦‚è§ˆ"></a>æ¦‚è§ˆ</h1><p>åœ¨äº‘åŸç”Ÿåœºæ™¯ä¸­ï¼Œå¯¹å®¹å™¨å¯åŠ¨é€Ÿåº¦ã€èµ„æºæ¶ˆè€—ã€ç¨³å®šæ€§å’Œå®‰å…¨æ€§çš„éœ€æ±‚ä¸æ–­å¢åŠ ï¼Œç›®å‰ Kata Containers è¿è¡Œæ—¶ç›¸å¯¹äºå…¶ä»–è¿è¡Œæ—¶é¢ä¸´æŒ‘æˆ˜ã€‚ä¸ºäº†è§£å†³è¿™ä¸€ç‚¹ï¼Œç¤¾åŒºæå‡ºäº†ä¸€ä¸ªå¯é çš„ã€ç»è¿‡ç°åœºæµ‹è¯•çš„ã€å®‰å…¨çš„ Rust ç‰ˆæœ¬çš„ kata-runtimeã€‚</p>
<h2 id="ç‰¹æ€§"><a href="#ç‰¹æ€§" class="headerlink" title="ç‰¹æ€§"></a>ç‰¹æ€§</h2><ul>
<li>Turn key solution with builtin <code>Dragonball</code> Sandbox</li>
<li>å¼‚æ­¥ I&#x2F;O ä»¥å‡å°‘èµ„æºæ¶ˆè€—</li>
<li>ç”¨äºå¤šç§æœåŠ¡ã€è¿è¡Œæ—¶å’Œ hypervisor çš„å¯æ‰©å±•æ¡†æ¶</li>
<li>sandbox å’Œå®¹å™¨ç›¸å…³è”èµ„æºçš„ç”Ÿå‘½å‘¨æœŸç®¡ç†</li>
</ul>
<h2 id="é€‰æ‹©-Rust-çš„ç†ç”±"><a href="#é€‰æ‹©-Rust-çš„ç†ç”±" class="headerlink" title="é€‰æ‹© Rust çš„ç†ç”±"></a>é€‰æ‹© Rust çš„ç†ç”±</h2><p>ä¹‹æ‰€ä»¥é€‰æ‹© Rustï¼Œæ˜¯å› ä¸ºå®ƒè¢«è®¾è®¡ä¸ºä¸€ç§æ³¨é‡æ•ˆç‡çš„ç³»ç»Ÿè¯­è¨€ã€‚ä¸ Go ç›¸æ¯”ï¼ŒRust è¿›è¡Œäº†å„ç§è®¾è®¡æƒè¡¡ä»¥è·å¾—è‰¯å¥½çš„æ‰§è¡Œæ€§èƒ½ï¼Œå…¶åˆ›æ–°æŠ€æœ¯ä¸ C æˆ– C++ ç›¸æ¯”ï¼Œæä¾›äº†é’ˆå¯¹å¸¸è§å†…å­˜é”™è¯¯ï¼ˆç¼“å†²åŒºæº¢å‡ºã€æ— æ•ˆæŒ‡é’ˆã€èŒƒå›´é”™è¯¯ï¼‰çš„åˆç†ä¿æŠ¤ã€é”™è¯¯æ£€æŸ¥ï¼ˆç¡®ä¿é”™è¯¯å¾—åˆ°å¤„ç†ï¼‰ã€çº¿ç¨‹å®‰å…¨ã€èµ„æºæ‰€æœ‰æƒç­‰ã€‚</p>
<p>å½“ Kata agent ç”¨ Rust é‡å†™æ—¶ï¼Œè¿™äº›ä¼˜ç‚¹å¾—åˆ°äº†éªŒè¯ã€‚åŸºäº Rust çš„å®ç°æ˜¾ç€å‡å°‘äº†å†…å­˜ä½¿ç”¨é‡ã€‚</p>
<h1 id="è®¾è®¡"><a href="#è®¾è®¡" class="headerlink" title="è®¾è®¡"></a>è®¾è®¡</h1><h2 id="æ¶æ„"><a href="#æ¶æ„" class="headerlink" title="æ¶æ„"></a>æ¶æ„</h2><div align=center><img width="800" style="border: 0px" src="/gallery/kata-containers/architecture.png"></div>

<h2 id="å†…ç½®çš„-VMM"><a href="#å†…ç½®çš„-VMM" class="headerlink" title="å†…ç½®çš„ VMM"></a>å†…ç½®çš„ VMM</h2><h3 id="å½“å‰-Kata-2-x-æ¶æ„"><a href="#å½“å‰-Kata-2-x-æ¶æ„" class="headerlink" title="å½“å‰ Kata 2.x æ¶æ„"></a>å½“å‰ Kata 2.x æ¶æ„</h3><div align=center><img width="600" style="border: 0px" src="/gallery/kata-containers/not_built_in_vmm.png"></div>

<p>å¦‚å›¾æ‰€ç¤ºï¼Œruntime å’Œ VMM æ˜¯ç‹¬ç«‹çš„è¿›ç¨‹ã€‚runtime è¿›ç¨‹ fork å‡º VMM è¿›ç¨‹å¹¶é€šè¿‡ RPC è¿›ç¨‹é—´é€šä¿¡ã€‚é€šå¸¸ï¼Œè¿›ç¨‹é—´äº¤äº’æ¯”è¿›ç¨‹å†…äº¤äº’å¼€é”€æ›´å¤§ä¸”æ•ˆç‡æ›´ä½ã€‚åŒæ—¶ï¼Œè¿˜è¦è€ƒè™‘èµ„æºç»´æŠ¤æˆæœ¬ã€‚ä¾‹å¦‚ï¼Œåœ¨å¼‚å¸¸æƒ…å†µä¸‹è¿›è¡Œèµ„æºå›æ”¶æ—¶ï¼Œä»»ä½•è¿›ç¨‹çš„å¼‚å¸¸éƒ½å¿…é¡»è¢«å…¶ä»–ç»„ä»¶æ£€æµ‹åˆ°ï¼Œå¹¶è§¦å‘ç›¸åº”çš„èµ„æºå›æ”¶è¿›ç¨‹ã€‚å¦‚æœæœ‰é¢å¤–çš„è¿‡ç¨‹ï¼Œæ¢å¤å˜å¾—æ›´åŠ å›°éš¾ã€‚</p>
<h3 id="å¦‚ä½•æ”¯æŒå†…ç½®çš„-VMM"><a href="#å¦‚ä½•æ”¯æŒå†…ç½®çš„-VMM" class="headerlink" title="å¦‚ä½•æ”¯æŒå†…ç½®çš„ VMM"></a>å¦‚ä½•æ”¯æŒå†…ç½®çš„ VMM</h3><p>ç¤¾åŒºæä¾›äº† Dragonball Sandboxï¼Œé€šè¿‡å°† VMM çš„åŠŸèƒ½é›†æˆåˆ° Rust åº“ä¸­æ¥å¯ç”¨å†…ç½®çš„ VMMã€‚å¯ä»¥é€šè¿‡ä½¿ç”¨è¯¥åº“æ¥æ‰§è¡Œä¸ VMM ç›¸å…³çš„åŠŸèƒ½ã€‚å› ä¸º runtime å’Œ VMM åœ¨åŒä¸€ä¸ªè¿›ç¨‹ä¸­ï¼Œæ‰€ä»¥åœ¨æ¶ˆæ¯å¤„ç†é€Ÿåº¦å’Œ API åŒæ­¥æ–¹é¢æœ‰æ‰€æ”¹å–„ã€‚è¿˜å¯ä»¥ä¿è¯ runtime å’Œ VMM ç”Ÿå‘½å‘¨æœŸçš„ä¸€è‡´æ€§ï¼Œå‡å°‘èµ„æºå›æ”¶å’Œå¼‚å¸¸å¤„ç†ç»´æŠ¤çš„å¤æ‚åº¦ï¼Œå¦‚å›¾æ‰€ç¤ºï¼š</p>
<div align=center><img width="600" style="border: 0px" src="/gallery/kata-containers/built_in_vmm.png"></div>

<h2 id="æ”¯æŒå¼‚æ­¥"><a href="#æ”¯æŒå¼‚æ­¥" class="headerlink" title="æ”¯æŒå¼‚æ­¥"></a>æ”¯æŒå¼‚æ­¥</h2><h3 id="ä¸ºä»€ä¹ˆéœ€è¦å¼‚æ­¥"><a href="#ä¸ºä»€ä¹ˆéœ€è¦å¼‚æ­¥" class="headerlink" title="ä¸ºä»€ä¹ˆéœ€è¦å¼‚æ­¥"></a>ä¸ºä»€ä¹ˆéœ€è¦å¼‚æ­¥</h3><p><strong>Async å·²ç»ä¸ºç¨³å®šç‰ˆ Rust ç‰¹æ€§</strong></p>
<blockquote>
<p>å‚è€ƒï¼š<a target="_blank" rel="noopener" href="https://rust-lang.github.io/async-book/01_getting_started/02_why_async.html">Why Async</a> å’Œ <a target="_blank" rel="noopener" href="https://rust-lang.github.io/async-book/01_getting_started/03_state_of_async_rust.html">The State of Asynchronous Rust</a></p>
</blockquote>
<ul>
<li>Async æ˜¾è‘—é™ä½äº† CPU å’Œå†…å­˜å¼€é”€ï¼Œå°¤å…¶æ˜¯å¯¹äºå…·æœ‰å¤§é‡ I&#x2F;O ç»‘å®šç±»å‹çš„ä»»åŠ¡è´Ÿè½½</li>
<li>Async åœ¨ Rust ä¸­æ˜¯é›¶æˆæœ¬çš„ï¼Œè¿™æ„å‘³ç€åªéœ€åº”ç”¨å±‚é¢å¼€é”€ï¼Œå¯ä»¥ä¸ç”¨å †åˆ†é…å’ŒåŠ¨æ€è°ƒåº¦ï¼Œå¤§å¤§æé«˜æ•ˆç‡</li>
</ul>
<p><strong>å¦‚æœä½¿ç”¨ Sync Rust å®ç° kata-runtime å¯èƒ½ä¼šå‡ºç°çš„å‡ ä¸ªé—®é¢˜</strong></p>
<ul>
<li>TTRPC è¿æ¥çº¿ç¨‹æ•°å¤ªå¤šï¼ˆTTRPC threads: reaper thread(1) + listener thread(1) + client handler(2)ï¼‰</li>
<li>æ¯ä¸ªå®¹å™¨æœ‰ä¸‰ä¸ª I&#x2F;O çº¿ç¨‹</li>
<li>åœ¨ Sync æ¨¡å¼ä¸‹ï¼Œå®ç°è¶…æ—¶æœºåˆ¶å…·æœ‰æŒ‘æˆ˜æ€§ã€‚æ¯”å¦‚ TTRPC API äº¤äº’ä¸­ï¼Œè¶…æ—¶æœºåˆ¶å¾ˆéš¾å’Œ Golang å¯¹é½</li>
</ul>
<p><strong>å¦‚ä½•æ”¯æŒ Async</strong></p>
<p>kata-runtime ç”± TOKIO_RUNTIME_WORKER_THREADS æ§åˆ¶è¿è¡Œ OS çº¿ç¨‹ï¼Œé»˜è®¤ä¸º 2 ä¸ªçº¿ç¨‹ã€‚TTRPC å’Œå®¹å™¨ç›¸å…³çš„çº¿ç¨‹ç»Ÿä¸€è¿è¡Œåœ¨tokio çº¿ç¨‹ä¸­ï¼ŒTimerï¼ŒFileï¼ŒNetlink ç­‰ç›¸å…³çš„ä¾èµ–è°ƒç”¨éœ€è¦åˆ‡æ¢åˆ° Asyncã€‚å€ŸåŠ© Asyncï¼Œå¯ä»¥è½»æ¾æ”¯æŒæ— é˜»å¡ I&#x2F;O å’Œå®šæ—¶å™¨ã€‚ç›®å‰ï¼Œä»…å°† Async ç”¨äº kata-runtimeã€‚å†…ç½®çš„ VMM ä¿ç•™äº† OS çº¿ç¨‹ï¼Œå› ä¸ºå®ƒå¯ä»¥ä¿è¯çº¿ç¨‹çš„å¯æ§æ€§ã€‚</p>
<h2 id="å¯æ‰©å±•æ¡†æ¶"><a href="#å¯æ‰©å±•æ¡†æ¶" class="headerlink" title="å¯æ‰©å±•æ¡†æ¶"></a>å¯æ‰©å±•æ¡†æ¶</h2><p>Kata 3.x runtime è®¾è®¡äº† serviceã€runtimeã€hypervisor çš„æ‰©å±•ï¼Œç»“åˆé…ç½®æ»¡è¶³ä¸åŒåœºæ™¯çš„éœ€æ±‚ã€‚ç›®å‰æœåŠ¡æä¾›æ³¨å†Œæœºåˆ¶ï¼Œæ”¯æŒå¤šç§æœåŠ¡ã€‚æœåŠ¡å¯ä»¥é€šè¿‡æ¶ˆæ¯ä¸ runtime äº¤äº’ã€‚æ­¤å¤–ï¼Œruntime handler å¤„ç†æ¥è‡ªæœåŠ¡çš„æ¶ˆæ¯ã€‚ä¸ºäº†æ»¡è¶³äºŒè¿›åˆ¶æ”¯æŒå¤šä¸ª runtime å’Œ hypervisor çš„éœ€æ±‚ï¼Œå¯åŠ¨å¿…é¡»é€šè¿‡é…ç½®è·å– runtime handler ç±»å‹å’Œ hypervisor ç±»å‹ã€‚</p>
<div align=center><img width="800" style="border: 0px" src="/gallery/kata-containers/framework.png"></div>

<h2 id="èµ„æºç®¡ç†å™¨"><a href="#èµ„æºç®¡ç†å™¨" class="headerlink" title="èµ„æºç®¡ç†å™¨"></a>èµ„æºç®¡ç†å™¨</h2><p>åœ¨å®é™…ä½¿ç”¨ä¸­ï¼Œä¼šæœ‰å„ç§å„æ ·çš„èµ„æºï¼Œæ¯ä¸ªèµ„æºéƒ½æœ‰å‡ ä¸ªå­ç±»å‹ã€‚ç‰¹åˆ«æ˜¯å¯¹äº virtcontainersï¼Œèµ„æºçš„æ¯ä¸ªå­ç±»å‹éƒ½æœ‰ä¸åŒçš„æ“ä½œã€‚å¹¶ä¸”å¯èƒ½å­˜åœ¨ä¾èµ–å…³ç³»ï¼Œä¾‹å¦‚ share-fs rootfs å’Œ share-fs volume ä¼šä½¿ç”¨ share-fs èµ„æºå°†æ–‡ä»¶å…±äº«åˆ° VMã€‚ç›®å‰ï¼Œnetworkã€share-fs è¢«è§†ä¸ºæ²™ç›’èµ„æºï¼Œrootfsã€volumeã€cgroup è¢«è§†ä¸ºå®¹å™¨èµ„æºã€‚æ­¤å¤–ï¼Œç¤¾åŒºä¸ºæ¯ä¸ªèµ„æºæŠ½è±¡å‡ºä¸€ä¸ªå…¬å…±æ¥å£ï¼Œå¹¶ä½¿ç”¨å­ç±»æ“ä½œæ¥è¯„ä¼°ä¸åŒå­ç±»å‹ä¹‹é—´çš„å·®å¼‚ã€‚</p>
<div align=center><img width="800" style="border: 0px" src="/gallery/kata-containers/resourceManager.png"></div>

<h1 id="è·¯çº¿å›¾"><a href="#è·¯çº¿å›¾" class="headerlink" title="è·¯çº¿å›¾"></a>è·¯çº¿å›¾</h1><ul>
<li>é˜¶æ®µ 1ï¼ˆæˆªè‡³ 2022.06ï¼‰ï¼šæä¾›åŸºç¡€ç‰¹æ€§</li>
<li>é˜¶æ®µ 2ï¼ˆæˆªè‡³ 2022.09ï¼‰ï¼šæä¾›å¸¸ç”¨ç‰¹æ€§</li>
<li>é˜¶æ®µ 3ï¼šæä¾›å…¨é‡ç‰¹æ€§</li>
</ul>
<table>
<thead>
<tr>
<th><strong>Class</strong></th>
<th><strong>Sub-Class</strong></th>
<th><strong>Development Stage</strong></th>
<th><strong>Status</strong></th>
</tr>
</thead>
<tbody><tr>
<td>Service</td>
<td>task service</td>
<td>Stage 1</td>
<td>âœ…</td>
</tr>
<tr>
<td></td>
<td>extend service</td>
<td>Stage 3</td>
<td>ğŸš«</td>
</tr>
<tr>
<td></td>
<td>image service</td>
<td>Stage 3</td>
<td>ğŸš«</td>
</tr>
<tr>
<td>Runtime handler</td>
<td>Virt-Container</td>
<td>Stage 1</td>
<td>âœ…</td>
</tr>
<tr>
<td>Endpoint</td>
<td>VETH Endpoint</td>
<td>Stage 1</td>
<td>âœ…</td>
</tr>
<tr>
<td></td>
<td>Physical Endpoint</td>
<td>Stage 2</td>
<td>âœ…</td>
</tr>
<tr>
<td></td>
<td>Tap Endpoint</td>
<td>Stage 2</td>
<td>âœ…</td>
</tr>
<tr>
<td></td>
<td>Tuntap Endpoint</td>
<td>Stage 2</td>
<td>âœ…</td>
</tr>
<tr>
<td></td>
<td>IPVlan Endpoint</td>
<td>Stage 2</td>
<td>âœ…</td>
</tr>
<tr>
<td></td>
<td>MacVlan Endpoint</td>
<td>Stage 2</td>
<td>âœ…</td>
</tr>
<tr>
<td></td>
<td>MACVTAP Endpoint</td>
<td>Stage 3</td>
<td>ğŸš«</td>
</tr>
<tr>
<td></td>
<td>VhostUserEndpoint</td>
<td>Stage 3</td>
<td>ğŸš«</td>
</tr>
<tr>
<td>Network Interworking Model</td>
<td>Tc filter</td>
<td>Stage 1</td>
<td>âœ…</td>
</tr>
<tr>
<td></td>
<td>MacVtap</td>
<td>Stage 3</td>
<td>ğŸš§</td>
</tr>
<tr>
<td>Storage</td>
<td>Virtio-fs</td>
<td>Stage 1</td>
<td>âœ…</td>
</tr>
<tr>
<td></td>
<td>nydus</td>
<td>Stage 2</td>
<td>ğŸš§</td>
</tr>
<tr>
<td></td>
<td>device mapper</td>
<td>Stage 2</td>
<td>ğŸš«</td>
</tr>
<tr>
<td>Cgroup V2</td>
<td></td>
<td>Stage 2</td>
<td>ğŸš§</td>
</tr>
<tr>
<td>Hypervisor</td>
<td>Dragonball</td>
<td>Stage 1</td>
<td>ğŸš§</td>
</tr>
<tr>
<td></td>
<td>QEMU</td>
<td>Stage 2</td>
<td>ğŸš«</td>
</tr>
<tr>
<td></td>
<td>ACRN</td>
<td>Stage 3</td>
<td>ğŸš«</td>
</tr>
<tr>
<td></td>
<td>Cloud Hypervisor</td>
<td>Stage 3</td>
<td>ğŸš«</td>
</tr>
<tr>
<td></td>
<td>Firecracker</td>
<td>Stage 3</td>
<td>ğŸš«</td>
</tr>
</tbody></table>
<h1 id="FAQ"><a href="#FAQ" class="headerlink" title="FAQ"></a>FAQ</h1><ul>
<li><p>serviceã€message dispatcher å’Œ runtime handler éƒ½æ˜¯ Kata 3.x runtime äºŒè¿›åˆ¶çš„ä¸€éƒ¨åˆ†å—ï¼Ÿ</p>
<p>æ˜¯çš„ã€‚å®ƒä»¬æ˜¯ Kata 3.x è¿è¡Œæ—¶ä¸­çš„ç»„ä»¶ã€‚å®ƒä»¬å°†è¢«æ‰“åŒ…æˆä¸€ä¸ªäºŒè¿›åˆ¶æ–‡ä»¶</p>
<ul>
<li>service æ˜¯ä¸€ä¸ªæ¥å£ï¼Œè´Ÿè´£å¤„ç†ä»»åŠ¡æœåŠ¡ã€é•œåƒæœåŠ¡ç­‰å¤šç§æœåŠ¡</li>
<li>message dispatcher ç”¨äºåŒ¹é…æ¥è‡ªæœåŠ¡æ¨¡å—çš„å¤šä¸ªè¯·æ±‚</li>
<li>runtime handler ç”¨äºå¤„ç†å¯¹æ²™ç®±å’Œå®¹å™¨çš„æ“ä½œ</li>
</ul>
</li>
<li><p>Kata 3.x runtime äºŒè¿›åˆ¶çš„åç§°æ˜¯ä»€ä¹ˆï¼Ÿ</p>
<p>ç”±äº containerd-shim-v2-kata å·²ç»è¢«ä½¿ç”¨äº†ï¼Œç›®å‰åœ¨å†…éƒ¨ï¼Œç¤¾åŒºä½¿ç”¨ containerd-shim-v2-rund</p>
</li>
<li><p>Kata 3.x è®¾è®¡æ˜¯å¦ä¸ containerd shimv2 æ¶æ„å…¼å®¹ï¼Ÿ</p>
<p>æ˜¯çš„ã€‚å®ƒæ—¨åœ¨éµå¾ª go ç‰ˆæœ¬ kata çš„åŠŸèƒ½ã€‚å®ƒå®ç°äº† containerd shim v2 æ¥å£&#x2F;åè®®</p>
</li>
<li><p>ç”¨æˆ·å°†å¦‚ä½•è¿ç§»åˆ° Kata 3.x æ¶æ„ï¼Ÿ</p>
<p>è¿ç§»è®¡åˆ’å°†åœ¨ Kata 3.x åˆå¹¶åˆ°ä¸»åˆ†æ”¯ä¹‹å‰æä¾›</p>
</li>
<li><p>Dragonball æ˜¯ä¸æ˜¯ä»…é™äºè‡ªå·±å†…ç½®çš„ VMMï¼Ÿ Dragonball ç³»ç»Ÿæ˜¯å¦å¯ä»¥é…ç½®ä¸ºä½¿ç”¨å¤–éƒ¨ Dragonball VMM&#x2F;hypervisor å·¥ä½œï¼Ÿ</p>
<p>Dragonball å¯ä»¥ç”¨ä½œå¤–éƒ¨ç®¡ç†ç¨‹åºã€‚ç„¶è€Œï¼Œåœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œç¨³å®šæ€§å’Œæ€§èƒ½å…·æœ‰æŒ‘æˆ˜æ€§ã€‚å†…ç½® VMM å¯ä»¥ä¼˜åŒ–å®¹å™¨å¼€é”€ï¼Œæ˜“äºç»´æŠ¤ç¨³å®šæ€§ã€‚runD æ˜¯ runC çš„ containerd-shim-v2 å¯¹åº”ç‰©ï¼Œå¯ä»¥è¿è¡Œ Pod&#x2F;å®¹å™¨ã€‚ Dragonball æ˜¯ä¸€ç§ microvm&#x2F;VMMï¼Œæ—¨åœ¨è¿è¡Œå®¹å™¨å·¥ä½œè´Ÿè½½ã€‚æœ‰æ—¶å°†å…¶ç§°ä¸ºå®‰å…¨æ²™ç®±ï¼Œè€Œä¸æ˜¯ microvm&#x2F;VMM</p>
</li>
<li><p>QEMUã€Cloud Hypervisor å’Œ Firecracker æ”¯æŒå·²åœ¨è®¡åˆ’ä¸­ï¼Œä½†å¦‚ä½•è¿ä½œã€‚å®ƒä»¬åœ¨ä¸åŒçš„è¿›ç¨‹ä¸­å·¥ä½œå—ï¼Ÿ</p>
<p>æ˜¯çš„ã€‚å®ƒä»¬æ— æ³•åƒ VMM ä¸­å†…ç½®çš„é‚£æ ·å·¥ä½œ</p>
</li>
<li><p>upcall æ˜¯ä»€ä¹ˆï¼Ÿ</p>
<p>upcall ç”¨äºçƒ­æ’æ‹” CPU&#x2F;å†…å­˜&#x2F;MMIO è®¾å¤‡ï¼Œå®ƒè§£å†³äº†ä¸¤ä¸ªé—®é¢˜ï¼š</p>
<ul>
<li><p>é¿å…ä¾èµ– PCI&#x2F;ACPI</p>
</li>
<li><p>é¿å…åœ¨ guest ä¸­ä¾èµ– udevd å¹¶è·å¾—çƒ­æ’æ‹”æ“ä½œçš„ç¡®å®šæ€§ç»“æœã€‚æ‰€ä»¥ upcall æ˜¯åŸºäº ACPI çš„ CPU&#x2F;å†…å­˜&#x2F;è®¾å¤‡çƒ­æ’æ‹”çš„æ›¿ä»£æ–¹æ¡ˆã€‚å¦‚æœéœ€è¦ï¼ŒKata ç¤¾åŒºä¼šä¸ç›¸å…³ç¤¾åŒºåˆä½œæ·»åŠ å¯¹åŸºäº ACPI çš„ CPU&#x2F;å†…å­˜&#x2F;è®¾å¤‡çƒ­æ’æ‹”çš„æ”¯æŒ</p>
</li>
</ul>
<p>Dbs-upcall æ˜¯ VMM å’Œ guest ä¹‹é—´åŸºäº vsock çš„ç›´æ¥é€šä¿¡å·¥å…·ã€‚ upcall çš„æœåŠ¡å™¨ç«¯æ˜¯ guest å†…æ ¸ä¸­çš„é©±åŠ¨ç¨‹åºï¼ˆæ­¤åŠŸèƒ½éœ€è¦å†…æ ¸è¡¥ä¸ï¼‰ï¼Œä¸€æ—¦å†…æ ¸å¯åŠ¨ï¼Œå®ƒå°†å¼€å§‹ä¸ºè¯·æ±‚æä¾›æœåŠ¡ã€‚è€Œå®¢æˆ·ç«¯åœ¨ VMM ä¸­ï¼Œå®ƒå°†æ˜¯ä¸€ä¸ªçº¿ç¨‹ï¼Œé€šè¿‡ uds ä¸ VSOCK é€šä¿¡ã€‚é€šè¿‡upcall ç›´æ¥å®ç°äº†è®¾å¤‡çš„çƒ­æ’æ‹”ï¼Œé¿å…äº†ACPI çš„è™šæ‹ŸåŒ–ï¼Œå°†è™šæ‹Ÿæœºçš„å¼€é”€é™åˆ°æœ€ä½ã€‚é€šè¿‡è¿™ç§ç›´æ¥çš„é€šä¿¡æ‰‹æ®µï¼Œå¯èƒ½è¿˜æœ‰è®¸å¤šå…¶ä»–ç”¨é€”ã€‚ç°ç›®å‰å·²ç»å¼€æºï¼š<a target="_blank" rel="noopener" href="https://github.com/openanolis/dragonball-sandbox/tree/main/crates/dbs-upcall">https://github.com/openanolis/dragonball-sandbox/tree/main/crates/dbs-upcall</a></p>
</li>
<li><p>å†…æ ¸è¡¥ä¸é€‚ç”¨äº 4.19ï¼Œä½†å®ƒä»¬ä¹Ÿé€‚ç”¨äº 5.15+ å—ï¼Ÿ</p>
<p>å‘å‰å…¼å®¹åº”è¯¥æ˜¯å¯ä»¥å®ç°çš„ï¼Œç¤¾åŒºå·²ç»å°†å®ƒç§»æ¤åˆ°åŸºäº 5.10 çš„å†…æ ¸</p>
</li>
<li><p>è¿™äº›è¡¥ä¸æ˜¯å¦ç‰¹å®šäºå¹³å°ï¼Œæˆ–è€…å®ƒä»¬æ˜¯å¦é€‚ç”¨äºæ”¯æŒ VSOCK çš„ä»»ä½•æ¶æ„ï¼Ÿ</p>
<p>å®ƒå‡ ä¹ä¸å¹³å°æ— å…³ï¼Œä½†ä¸€äº›ä¸ CPU çƒ­æ’æ‹”ç›¸å…³çš„æ˜¯ä¸å¹³å°ç›¸å…³çš„</p>
</li>
<li><p>æ˜¯å¦å¯ä»¥ä½¿ç”¨ loopback VSOCK å°†å†…æ ¸é©±åŠ¨ç¨‹åºæ›¿æ¢ä¸º guest ä¸­çš„ç”¨æˆ·æ€å®ˆæŠ¤ç¨‹åºï¼Ÿ</p>
<p>éœ€è¦ä¸ºçƒ­æ·»åŠ çš„ CPU&#x2F;å†…å­˜&#x2F;è®¾å¤‡åˆ›å»ºè®¾å¤‡èŠ‚ç‚¹ï¼Œå› æ­¤ç”¨æˆ·ç©ºé—´å®ˆæŠ¤è¿›ç¨‹æ‰§è¡Œè¿™äº›ä»»åŠ¡å¹¶ä¸å®¹æ˜“</p>
</li>
<li><p>upcall å…è®¸ VMM å’Œ guest ä¹‹é—´è¿›è¡Œé€šä¿¡çš„äº‹å®è¡¨æ˜ï¼Œæ­¤æ¶æ„å¯èƒ½ä¸ <a target="_blank" rel="noopener" href="https://github.com/confidential-containers">https://github.com/confidential-containers</a> ä¸å…¼å®¹ï¼Œå…¶ä¸­ VMM åº”è¯¥ä¸çŸ¥é“ VM å†…éƒ¨å‘ç”Ÿçš„äº‹æƒ…</p>
<ul>
<li>TDX è¿˜ä¸æ”¯æŒ CPU&#x2F;å†…å­˜çƒ­æ’æ‹”</li>
<li>å¯¹äºåŸºäº ACPI çš„è®¾å¤‡çƒ­æ’æ‹”ï¼Œå®ƒä¾èµ–äº ACPI DSDT è¡¨ï¼Œguest å†…æ ¸å°†åœ¨å¤„ç†è¿™äº›çƒ­æ’æ‹”äº‹ä»¶æ—¶æ‰§è¡Œ ASL ä»£ç æ¥å¤„ç†ã€‚ä¸ ACPI ASL æ–¹æ³•ç›¸æ¯”ï¼Œå®¡è®¡åŸºäº VSOCK çš„é€šä¿¡åº”è¯¥æ›´å®¹æ˜“</li>
</ul>
</li>
<li><p>å•ä½“ä¸å†…ç½® VMM çš„å®‰å…¨è¾¹ç•Œæ˜¯ä»€ä¹ˆï¼Ÿ</p>
<p>å®ƒå…·æœ‰è™šæ‹ŸåŒ–çš„å®‰å…¨è¾¹ç•Œã€‚æ›´å¤šç»†èŠ‚å°†åœ¨ä¸‹ä¸€é˜¶æ®µæä¾›</p>
</li>
</ul>
</div><div class="article-licensing box"><div class="licensing-title"><p>ã€Œ Kata Containers ã€æ¶æ„æ¼”è¿›</p><p><a href="http://shenxianghong.github.io/2022/11/14/2022-11-14 Kata Containers æ¶æ„æ¼”è¿›/">http://shenxianghong.github.io/2022/11/14/2022-11-14 Kata Containers æ¶æ„æ¼”è¿›/</a></p></div><div class="licensing-meta level is-mobile"><div class="level-left"><div class="level-item is-narrow"><div><h6>Author</h6><p>Shen Xianghong</p></div></div><div class="level-item is-narrow"><div><h6>Posted on</h6><p>2022-11-14</p></div></div><div class="level-item is-narrow"><div><h6>Updated on</h6><p>2023-06-19</p></div></div><div class="level-item is-narrow"><div><h6>Licensed under</h6><p><a class="icons" rel="noopener" target="_blank" title="Creative Commons" href="https://creativecommons.org/"><i class="icon fab fa-creative-commons"></i></a><a class="icons" rel="noopener" target="_blank" title="Attribution" href="https://creativecommons.org/licenses/by/4.0/"><i class="icon fab fa-creative-commons-by"></i></a><a class="icons" rel="noopener" target="_blank" title="Noncommercial" href="https://creativecommons.org/licenses/by-nc/4.0/"><i class="icon fab fa-creative-commons-nc"></i></a></p></div></div></div></div></div><hr style="height:1px;margin:1rem 0"><div class="level is-mobile is-flex"><div class="article-tags is-size-7 is-uppercase"><i class="fas fa-tags has-text-grey"></i>Â <a class="link-muted" rel="tag" href="/tags/Kata-Containers/">Kata Containers </a></div></div><!--!--></article></div><!--!--><nav class="post-navigation mt-4 level is-mobile"><div class="level-start"><a class="article-nav-prev level level-item link-muted" href="/2022/11/22/2022-11-22%20Virtual%20Kubelet%20%E5%BF%AB%E9%80%9F%E5%BC%80%E5%A7%8B/"><i class="level-item fas fa-chevron-left"></i><span class="level-item">ã€Œ Virtual Kubelet ã€å¿«é€Ÿå¼€å§‹</span></a></div><div class="level-end"><a class="article-nav-next level level-item link-muted" href="/2022/10/27/2022-10-27%20Kata%20Containers%20%E4%B8%AD%E5%9B%BD%E7%A7%BB%E5%8A%A8%E5%88%86%E4%BA%AB/"><span class="level-item">ã€Œ Kata Containers ã€ä¸­å›½ç§»åŠ¨åˆ†äº«</span><i class="level-item fas fa-chevron-right"></i></a></div></nav><!--!--></div><div class="column column-left is-4-tablet is-4-desktop is-3-widescreen  order-1 is-sticky"><div class="card widget" data-type="profile"><div class="card-content"><nav class="level"><div class="level-item has-text-centered flex-shrink-1"><div><figure class="image is-128x128 mx-auto mb-2"><img class="avatar is-rounded" src="https://avatars.githubusercontent.com/u/35031258?v=4" alt="ğŸ¾Corgi"></figure><p class="title is-size-4 is-block" style="line-height:inherit;">ğŸ¾Corgi</p></div></div></nav><nav class="level is-mobile"><div class="level-item has-text-centered is-marginless"><div><p class="heading">Posts</p><a href="/archives"><p class="title">56</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">Categories</p><a href="/categories"><p class="title">7</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">Tags</p><a href="/tags"><p class="title">10</p></a></div></div></nav><div class="level"><a class="level-item button is-primary is-rounded" href="https://github.com/shenxianghong" target="_blank" rel="noopener">Follow</a></div><div class="level is-mobile is-multiline"><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Github" href="https://github.com"><i class="fab fa-github"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Youtube" href="https://youtube.com"><i class="fab fa-youtube"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Bilibili" href="https://bilibili.com"><i class="fab fa-bilibili"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Twitter" href="https://twitter.com"><i class="fab fa-twitter"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Reddit" href="https://reddit.com"><i class="fab fa-reddit"></i></a></div></div></div><div class="card widget" data-type="links"><div class="card-content"><div class="menu"><h3 class="menu-label">Links</h3><ul class="menu-list"><li><a class="level is-mobile" href="https://google.com" target="_blank" rel="noopener"><span class="level-left"><span class="level-item">Google</span></span><span class="level-right"><span class="level-item tag">google.com</span></span></a></li><li><a class="level is-mobile" href="https://poe.com" target="_blank" rel="noopener"><span class="level-left"><span class="level-item">Poe</span></span><span class="level-right"><span class="level-item tag">poe.com</span></span></a></li></ul></div></div></div><div class="card widget" id="toc" data-type="toc"><div class="card-content"><div class="menu"><h3 class="menu-label">Catalogue</h3><ul class="menu-list"><li><a class="level is-mobile" href="#æ¦‚è§ˆ"><span class="level-left"><span class="level-item">1</span><span class="level-item">æ¦‚è§ˆ</span></span></a><ul class="menu-list"><li><a class="level is-mobile" href="#ç‰¹æ€§"><span class="level-left"><span class="level-item">1.1</span><span class="level-item">ç‰¹æ€§</span></span></a></li><li><a class="level is-mobile" href="#é€‰æ‹©-Rust-çš„ç†ç”±"><span class="level-left"><span class="level-item">1.2</span><span class="level-item">é€‰æ‹© Rust çš„ç†ç”±</span></span></a></li></ul></li><li><a class="level is-mobile" href="#è®¾è®¡"><span class="level-left"><span class="level-item">2</span><span class="level-item">è®¾è®¡</span></span></a><ul class="menu-list"><li><a class="level is-mobile" href="#æ¶æ„"><span class="level-left"><span class="level-item">2.1</span><span class="level-item">æ¶æ„</span></span></a></li><li><a class="level is-mobile" href="#å†…ç½®çš„-VMM"><span class="level-left"><span class="level-item">2.2</span><span class="level-item">å†…ç½®çš„ VMM</span></span></a><ul class="menu-list"><li><a class="level is-mobile" href="#å½“å‰-Kata-2-x-æ¶æ„"><span class="level-left"><span class="level-item">2.2.1</span><span class="level-item">å½“å‰ Kata 2.x æ¶æ„</span></span></a></li><li><a class="level is-mobile" href="#å¦‚ä½•æ”¯æŒå†…ç½®çš„-VMM"><span class="level-left"><span class="level-item">2.2.2</span><span class="level-item">å¦‚ä½•æ”¯æŒå†…ç½®çš„ VMM</span></span></a></li></ul></li><li><a class="level is-mobile" href="#æ”¯æŒå¼‚æ­¥"><span class="level-left"><span class="level-item">2.3</span><span class="level-item">æ”¯æŒå¼‚æ­¥</span></span></a><ul class="menu-list"><li><a class="level is-mobile" href="#ä¸ºä»€ä¹ˆéœ€è¦å¼‚æ­¥"><span class="level-left"><span class="level-item">2.3.1</span><span class="level-item">ä¸ºä»€ä¹ˆéœ€è¦å¼‚æ­¥</span></span></a></li></ul></li><li><a class="level is-mobile" href="#å¯æ‰©å±•æ¡†æ¶"><span class="level-left"><span class="level-item">2.4</span><span class="level-item">å¯æ‰©å±•æ¡†æ¶</span></span></a></li><li><a class="level is-mobile" href="#èµ„æºç®¡ç†å™¨"><span class="level-left"><span class="level-item">2.5</span><span class="level-item">èµ„æºç®¡ç†å™¨</span></span></a></li></ul></li><li><a class="level is-mobile" href="#è·¯çº¿å›¾"><span class="level-left"><span class="level-item">3</span><span class="level-item">è·¯çº¿å›¾</span></span></a></li><li><a class="level is-mobile" href="#FAQ"><span class="level-left"><span class="level-item">4</span><span class="level-item">FAQ</span></span></a></li></ul></div></div><style>#toc .menu-list > li > a.is-active + .menu-list { display: block; }#toc .menu-list > li > a + .menu-list { display: none; }</style><script src="/js/toc.js" defer></script></div><div class="card widget" data-type="categories"><div class="card-content"><div class="menu"><h3 class="menu-label">Categories</h3><ul class="menu-list"><li><a class="level is-mobile" href="/categories/Container-Runtime/"><span class="level-start"><span class="level-item">Container Runtime</span></span><span class="level-end"><span class="level-item tag">20</span></span></a></li><li><a class="level is-mobile" href="/categories/Disaster-Recovery/"><span class="level-start"><span class="level-item">Disaster Recovery</span></span><span class="level-end"><span class="level-item tag">11</span></span></a></li><li><a class="level is-mobile" href="/categories/Programming/"><span class="level-start"><span class="level-item">Programming</span></span><span class="level-end"><span class="level-item tag">7</span></span></a></li><li><a class="level is-mobile" href="/categories/Scheduling-Orchestration/"><span class="level-start"><span class="level-item">Scheduling &amp; Orchestration</span></span><span class="level-end"><span class="level-item tag">5</span></span></a><ul><li><a class="level is-mobile" href="/categories/Scheduling-Orchestration/Kubernetes/"><span class="level-start"><span class="level-item">Kubernetes</span></span><span class="level-end"><span class="level-item tag">5</span></span></a></li></ul></li><li><a class="level is-mobile" href="/categories/Serverless/"><span class="level-start"><span class="level-item">Serverless</span></span><span class="level-end"><span class="level-item tag">3</span></span></a></li><li><a class="level is-mobile" href="/categories/Service-Mesh/"><span class="level-start"><span class="level-item">Service Mesh</span></span><span class="level-end"><span class="level-item tag">10</span></span></a></li></ul></div></div></div></div><!--!--></div></div></section><footer class="footer"><div class="container"><div class="level"><div class="level-start"><a class="footer-logo is-block mb-2" href="/"><img src="/img/logo.svg" alt="ğŸ¾Corgi" height="28"></a><p class="is-size-7"><span>&copy; 2023 Shen Xianghong</span>Â Â Powered by <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a>Â &amp;Â <a href="https://github.com/ppoffice/hexo-theme-icarus" target="_blank" rel="noopener">Icarus</a><br><span id="busuanzi_container_site_uv">Visited by <span id="busuanzi_value_site_uv">0</span> users</span></p><p class="is-size-7"><br/>And did you get what you wanted from this life, even so?</p></div><div class="level-end"><div class="field has-addons"><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Creative Commons" href="https://creativecommons.org/"><i class="fab fa-creative-commons"></i></a></p><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Attribution 4.0 International" href="https://creativecommons.org/licenses/by/4.0/"><i class="fab fa-creative-commons-by"></i></a></p><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Download on GitHub" href="https://github.com/ppoffice/hexo-theme-icarus"><i class="fab fa-github"></i></a></p></div></div></div></div></footer><script src="https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/moment@2.22.2/min/moment-with-locales.min.js"></script><script src="https://cdn.jsdelivr.net/npm/clipboard@2.0.4/dist/clipboard.min.js" defer></script><script>moment.locale("en");</script><script>var IcarusThemeSettings = {
            article: {
                highlight: {
                    clipboard: true,
                    fold: 'unfolded'
                }
            }
        };</script><script src="/js/column.js"></script><script src="/js/animation.js"></script><a id="back-to-top" title="Back to top" href="javascript:;"><i class="fas fa-chevron-up"></i></a><script src="/js/back_to_top.js" defer></script><!--!--><!--!--><!--!--><!--!--><script src="https://cdn.jsdelivr.net/npm/cookieconsent@3.1.1/build/cookieconsent.min.js" defer></script><script>window.addEventListener("load", () => {
      window.cookieconsent.initialise({
        type: "info",
        theme: "edgeless",
        static: false,
        position: "bottom-left",
        content: {
          message: "This website uses cookies to improve your experience.",
          dismiss: "Got it!",
          allow: "Allow cookies",
          deny: "Decline",
          link: "Learn more",
          policy: "Cookie Policy",
          href: "https://www.cookiesandyou.com/",
        },
        palette: {
          popup: {
            background: "#edeff5",
            text: "#838391"
          },
          button: {
            background: "#4b81e8"
          },
        },
      });
    });</script><script src="https://cdn.jsdelivr.net/npm/lightgallery@1.10.0/dist/js/lightgallery.min.js" defer></script><script src="https://cdn.jsdelivr.net/npm/justifiedGallery@3.8.1/dist/js/jquery.justifiedGallery.min.js" defer></script><script>window.addEventListener("load", () => {
            if (typeof $.fn.lightGallery === 'function') {
                $('.article').lightGallery({ selector: '.gallery-item' });
            }
            if (typeof $.fn.justifiedGallery === 'function') {
                if ($('.justified-gallery > p > .gallery-item').length) {
                    $('.justified-gallery > p > .gallery-item').unwrap();
                }
                $('.justified-gallery').justifiedGallery();
            }
        });</script><!--!--><!--!--><!--!--><!--!--><!--!--><script src="/js/main.js" defer></script><script src="/js/night.js" defer></script><div class="searchbox"><div class="searchbox-container"><div class="searchbox-header"><div class="searchbox-input-container"><input class="searchbox-input" type="text" placeholder="Type something..."></div><a class="searchbox-close" href="javascript:;">Ã—</a></div><div class="searchbox-body"></div></div></div><script src="/js/insight.js" defer></script><script>document.addEventListener('DOMContentLoaded', function () {
            loadInsight({"contentUrl":"/content.json"}, {"hint":"Type something...","untitled":"(Untitled)","posts":"Posts","pages":"Pages","categories":"Categories","tags":"Tags"});
        });</script></body></html>